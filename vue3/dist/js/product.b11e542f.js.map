{"version":3,"sources":["webpack:///./src/components/SimpleHeader.vue","webpack:///./src/components/SimpleHeader.vue?aeba","webpack:///./src/view/ProductDetail.vue?f22a","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/view/ProductDetail.vue","webpack:///./src/view/ProductDetail.vue?5cc1","webpack:///./src/components/SimpleHeader.vue?a3d1"],"names":["class","isback","name","goBack","props","type","String","default","back","noback","Boolean","emits","setup","ctx","router","push","path","go","emit","render","__scopeId","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","$","$map","map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","length","undefined","indicator-color","detail","goodsCarouselList","item","index","key","src","alt","goodsName","sellingPrice","goodsDetailContent","icon","text","badge","count","goTo","handleAddCart","goToCart","route","store","state","id","params","data","console","log","i","dispatch","content","document","querySelector","scrollTop","goodsCount","goodsId","resultCode","success","cartCount","components","sHeader"],"mappings":"kNAWQ,MAAM,sC,GAAZ,IAAF,G,GAGSA,MAAM,sB,EAGb,eAAqB,OAAhBA,MAAM,SAAO,S,yGANpB,2CAKW,SALX,EAKW,CAJ4B,EAAAC,Q,iBACnC,eAAkD,IAFtD,EAEc,Y,iBADV,eAA6D,GADjE,MACcC,KAAK,aAA6B,QAAO,EAAAC,Q,qBAEnD,eAAgD,MAAhD,EAAgD,eAAb,EAAAD,MAAI,GACvC,eAA4B,GAAlBA,KAAK,eAEjB,G,mBAMa,GACbE,MAAO,CACLF,KAAM,CACJG,KAAMC,OACNC,QAAS,IAEXC,KAAM,CACJH,KAAMC,OACNC,QAAS,IAEXE,OAAQ,CACNJ,KAAMK,QACNH,SAAS,IAGbI,MAAO,CAAC,YACRC,MAhBa,SAgBPR,EAAOS,GACX,IAAMZ,EAAS,eAAIG,EAAMK,QACnBK,EAAS,iBACTX,EAAS,WACRC,EAAMI,KAGTM,EAAOC,KAAK,CAAEC,KAAMZ,EAAMI,OAF1BM,EAAOG,IAAI,GAIbJ,EAAIK,KAAK,aAEX,MAAO,CACLf,SACAF,Y,UC/CN,EAAOkB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,U,kCCRf,W,4CCAA,IAAIC,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkBI,SAC9CC,EAAS,wBACTC,EAAO,OAIPT,KAAiBS,KAAQN,IAC3BF,EAAeE,EAAmBM,EAAM,CACtCC,cAAc,EACdC,IAAK,WACH,IACE,OAAOL,EAA0BM,KAAKC,MAAMC,MAAMN,GAAQ,GAC1D,MAAOO,GACP,MAAO,Q,kCChBf,IAAIC,EAAI,EAAQ,QACZC,EAAO,EAAQ,QAAgCC,IAC/CC,EAA+B,EAAQ,QAEvCC,EAAsBD,EAA6B,OAKvDH,EAAE,CAAEK,OAAQ,QAASC,OAAO,EAAMC,QAASH,GAAuB,CAChEF,IAAK,SAAaM,GAChB,OAAOP,EAAKJ,KAAMW,EAAYC,UAAUC,OAAS,EAAID,UAAU,QAAKE,O,4DCDjEhD,MAAM,kB,GAEJA,MAAM,kB,GACJA,MAAM,qB,GAONA,MAAM,gB,GACJA,MAAM,iB,EAGX,eAAwC,OAAnCA,MAAM,gBAAe,YAAQ,G,GAC7BA,MAAM,iB,GAKRA,MAAM,iB,EACT,eAKK,WAJH,eAAW,UAAP,MACJ,eAAW,UAAP,MACJ,eAAa,UAAT,QACJ,eAAa,UAAT,U,0QAzBZ,eAoCM,MApCN,EAoCM,CAnCJ,eAAoC,GAAzBE,KAAM,SACjB,eA2BM,MA3BN,EA2BM,CA1BJ,eAMM,MANN,EAMM,CALJ,eAIY,GAJDF,MAAM,WAAWiD,kBAAgB,W,yBAC1B,iBAAiD,E,mBAAjE,eAEiB,2BAFuB,EAAAC,OAAOC,mBAAiB,SAAxCC,EAAMC,G,wBAA9B,eAEiB,GAFkDC,IAAKD,GAAK,C,wBAC3E,iBAAwB,CAAxB,eAAwB,OAAlBE,IAAKH,EAAMI,IAAI,I,oDAI3B,eASM,MATN,EASM,CARJ,eAEM,MAFN,EAEM,eADD,EAAAN,OAAOO,WAAS,OAErB,EACA,eAGM,MAHN,EAGM,CAFJ,eAA6C,YAAvC,IAAC,eAAG,EAAAP,OAAOQ,cAAY,WAIjC,eAQM,MARN,EAQM,CAPJ,EAMA,eAA4E,OAAvE1D,MAAM,kBAAkB,UAAQ,EAAAkD,OAAOS,oBAAkB,I,0BAGlE,eAKiB,Q,wBAJf,iBAA+C,CAA/C,eAA+C,GAA1BC,KAAK,SAASC,KAAK,OACxC,eAA6F,GAAxED,KAAK,SAAUE,MAAQ,EAAAC,MAAa,EAAAA,MAAR,GAAgB,QAAK,+BAAE,EAAAC,SAAQH,KAAK,O,kBACrF,eAA4E,GAArDxD,KAAK,UAAW,QAAO,EAAA4D,cAAeJ,KAAK,S,oBAClE,eAAqE,GAA9CxD,KAAK,SAAU,QAAO,EAAA6D,SAAUL,KAAK,Q,0JAcnD,GACbjD,MADa,WAEX,IAAMuD,EAAQ,iBACRrD,EAAS,iBACTsD,EAAQ,iBAERC,EAAQ,eAAS,CACrBnB,OAAQ,CACNC,kBAAmB,MAIvB,eAAS,wCAAC,+GACAmB,EAAOH,EAAMI,OAAbD,GADA,SAEe,eAAUA,GAFzB,gBAEAE,EAFA,EAEAA,KACRC,QAAQC,IAAI,IAAIF,GAChBA,EAAKrB,kBAAoBqB,EAAKrB,kBAAkBZ,KAAI,SAAAoC,GAAA,OAAK,eAAOA,MAChEN,EAAMnB,OAASsB,EACfJ,EAAMQ,SAAS,cANP,4CASV,gBAAS,WAEP,IAAMC,EAAUC,SAASC,cAAc,mBACvCF,EAAQG,UAAY,KAGtB,IAAM7E,EAAS,WACbW,EAAOG,IAAI,IAGP+C,EAAO,WACXlD,EAAOC,KAAK,CAAEC,KAAM,WAGhBiD,EAAY,yDAAI,sHACS,eAAQ,CAAEgB,WAAY,EAAGC,QAASb,EAAMnB,OAAOgC,UADxD,gBACZC,EADY,EACZA,WACU,KAAdA,GAAoB,OAAMC,QAAQ,QACtChB,EAAMQ,SAAS,cAHK,2CAAJ,qDAMZV,EAAO,yDAAI,8GACT,eAAQ,CAAEe,WAAY,EAAGC,QAASb,EAAMnB,OAAOgC,UADtC,OAEfd,EAAMQ,SAAS,cACf9D,EAAOC,KAAK,CAAEC,KAAM,UAHL,2CAAJ,qDAMP+C,EAAQ,gBAAS,WAErB,OAAOK,EAAMC,MAAMgB,aAGrB,wCACK,eAAOhB,IADZ,IAEElE,SACA6D,OACAC,gBACAC,WACAH,WAGJuB,WAAY,CACVC,QAAA,S,UCpHJ,EAAOpE,OAASA,EAED,gB,yDCPf","file":"js/product.b11e542f.js","sourcesContent":["<!--\n * 严肃声明：\n * 开源版本请务必保留此注释头信息，若删除我方将保留所有法律责任追究！\n * 本系统已申请软件著作权，受国家版权局知识产权以及国家计算机软件著作权保护！\n * 可正常分享和学习源码，不得用于违法犯罪活动，违者必究！\n * Copyright (c) 2020 陈尼克 all rights reserved.\n * 版权所有，侵权必究！\n *\n-->\n\n<template>\n  <header class=\"simple-header van-hairline--bottom\">\n    <van-icon name=\"arrow-left\" v-if=\"!isback\" @click=\"goBack\" />\n    <i v-else>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i>\n    <div class=\"simple-header-name\">{{ name }}</div>\n    <van-icon name=\"ellipsis\" />\n  </header>\n  <div class=\"block\" />\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nexport default {\n  props: {\n    name: {\n      type: String,\n      default: ''\n    },\n    back: {\n      type: String,\n      default: ''\n    },\n    noback: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['callback'],\n  setup(props, ctx) {\n    const isback = ref(props.noback)\n    const router = useRouter()\n    const goBack = () => {\n      if (!props.back) {\n        router.go(-1)\n      } else {\n        router.push({ path: props.back })\n      }\n      ctx.emit('callback')\n    }\n    return {\n      goBack,\n      isback\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  @import '../common/style/mixin';\n  .simple-header {\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 10000;\n    .fj();\n    .wh(100%, 44px);\n    line-height: 44px;\n    padding: 0 10px;\n    .boxSizing();\n    color: #252525;\n    background: #fff;\n    .simple-header-name {\n      font-size: 14px;\n    }\n\n    .van-icon{\n      line-height: 44px;\n      font-size: 16px;\n    }\n  }\n  .block {\n    height: 44px;\n  }\n</style>\n","import { render } from \"./SimpleHeader.vue?vue&type=template&id=0e914db3&scoped=true\"\nimport script from \"./SimpleHeader.vue?vue&type=script&lang=js\"\nexport * from \"./SimpleHeader.vue?vue&type=script&lang=js\"\n\nimport \"./SimpleHeader.vue?vue&type=style&index=0&id=0e914db3&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0e914db3\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ProductDetail.vue?vue&type=style&index=0&id=44061031&lang=less\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","<!--\n * 严肃声明：\n * 开源版本请务必保留此注释头信息，若删除我方将保留所有法律责任追究！\n * 本系统已申请软件著作权，受国家版权局知识产权以及国家计算机软件著作权保护！\n * 可正常分享和学习源码，不得用于违法犯罪活动，违者必究！\n * Copyright (c) 2020 陈尼克 all rights reserved.\n * 版权所有，侵权必究！\n *\n-->\n\n<template>\n  <div class=\"product-detail\">\n    <s-header :name=\"'商品详情'\"></s-header>\n    <div class=\"detail-content\">\n      <div class=\"detail-swipe-wrap\">\n        <van-swipe class=\"my-swipe\" indicator-color=\"#1baeae\">\n          <van-swipe-item v-for=\"(item, index) in detail.goodsCarouselList\" :key=\"index\">\n            <img :src=\"item\" alt=\"\">\n          </van-swipe-item>\n        </van-swipe>\n      </div>\n      <div class=\"product-info\">\n        <div class=\"product-title\">\n          {{ detail.goodsName || '' }}\n        </div>\n        <div class=\"product-desc\">免邮费 顺丰快递</div>\n        <div class=\"product-price\">\n          <span>¥{{ detail.sellingPrice || '' }}</span>\n          <!-- <span>库存203</span> -->\n        </div>\n      </div>\n      <div class=\"product-intro\">\n        <ul>\n          <li>概述</li>\n          <li>参数</li>\n          <li>安装服务</li>\n          <li>常见问题</li>\n        </ul>\n        <div class=\"product-content\" v-html=\"detail.goodsDetailContent || ''\"></div>\n      </div>\n    </div>\n    <van-action-bar>\n      <van-action-bar-icon icon=\"chat-o\" text=\"客服\" />\n      <van-action-bar-icon icon=\"cart-o\" :badge=\"!count ? '' : count\" @click=\"goTo()\" text=\"购物车\" />\n      <van-action-bar-button type=\"warning\" @click=\"handleAddCart\" text=\"加入购物车\" />\n      <van-action-bar-button type=\"danger\" @click=\"goToCart\" text=\"立即购买\" />\n    </van-action-bar>\n  </div>\n</template>\n\n<script>\nimport { reactive, onMounted, computed, toRefs, nextTick } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { getDetail } from '@/util/server'\nimport { addCart } from '@/util/server'\nimport sHeader from '@/components/SimpleHeader'\nimport { Toast } from 'vant'\nimport { prefix } from '@/common/js/utils'\nexport default {\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const store = useStore()\n\n    const state = reactive({\n      detail: {\n        goodsCarouselList: []\n      }\n    })\n\n    onMounted(async () => {\n      const { id } = route.params\n      const { data } = await getDetail(id)\n      console.log('2',data)\n      data.goodsCarouselList = data.goodsCarouselList.map(i => prefix(i))\n      state.detail = data\n      store.dispatch('updateCart')\n    })\n\n    nextTick(() => {\n      // 一些和DOM有关的东西\n      const content = document.querySelector('.detail-content')\n      content.scrollTop = 0\n    })\n\n    const goBack = () => {\n      router.go(-1)\n    }\n\n    const goTo = () => {\n      router.push({ path: '/cart' })\n    }\n\n    const handleAddCart = async () => {\n      const { resultCode } = await addCart({ goodsCount: 1, goodsId: state.detail.goodsId })\n      if (resultCode == 200 ) Toast.success('添加成功')\n      store.dispatch('updateCart')\n    }\n\n    const goToCart = async () => {\n      await addCart({ goodsCount: 1, goodsId: state.detail.goodsId })\n      store.dispatch('updateCart')\n      router.push({ path: '/cart' })\n    }\n\n    const count = computed(() => {\n      // console.log(111, store.state.cartCount)\n      return store.state.cartCount\n    })\n\n    return {\n      ...toRefs(state),\n      goBack,\n      goTo,\n      handleAddCart,\n      goToCart,\n      count\n    }\n  },\n  components: {\n    sHeader\n  }\n}\n</script>\n\n<style lang=\"less\">\n  @import '../common/style/mixin';\n  .product-detail {\n    .detail-header {\n      position: fixed;\n      top: 0;\n      left: 0;\n      z-index: 10000;\n      .fj();\n      .wh(100%, 44px);\n      line-height: 44px;\n      padding: 0 10px;\n      .boxSizing();\n      color: #252525;\n      background: #fff;\n      border-bottom: 1px solid #dcdcdc;\n      .product-name {\n        font-size: 14px;\n      }\n    }\n    .detail-content {\n      height: calc(100vh - 50px);\n      overflow: hidden;\n      overflow-y: auto;\n      .detail-swipe-wrap {\n        .my-swipe .van-swipe-item {\n          img {\n            width: 100%;\n            // height: 300px;\n          }\n        }\n      }\n      .product-info {\n        padding: 0 10px;\n        .product-title {\n          font-size: 18px;\n          text-align: left;\n          color: #333;\n        }\n        .product-desc {\n          font-size: 14px;\n          text-align: left;\n          color: #999;\n          padding: 5px 0;\n        }\n        .product-price {\n          .fj();\n          span:nth-child(1) {\n            color: #F63515;\n            font-size: 22px;\n          }\n          span:nth-child(2) {\n            color: #999;\n            font-size: 16px;\n          }\n        }\n      }\n      .product-intro {\n        width: 100%;\n        padding-bottom: 50px;\n        ul {\n          .fj();\n          width: 100%;\n          margin: 10px 0;\n          li {\n            flex: 1;\n            padding: 5px 0;\n            text-align: center;\n            font-size: 15px;\n            border-right: 1px solid #999;\n            box-sizing: border-box;\n            &:last-child {\n              border-right: none;\n            }\n          }\n        }\n        .product-content {\n          padding: 0 20px;\n          img {\n            width: 100%;\n          }\n        }\n      }\n    }\n    .van-action-bar-button--warning {\n      background: linear-gradient(to right,#6bd8d8, @primary)\n    }\n    .van-action-bar-button--danger {\n      background: linear-gradient(to right, #0dc3c3, #098888)\n    }\n  }\n</style>\n","import { render } from \"./ProductDetail.vue?vue&type=template&id=44061031\"\nimport script from \"./ProductDetail.vue?vue&type=script&lang=js\"\nexport * from \"./ProductDetail.vue?vue&type=script&lang=js\"\n\nimport \"./ProductDetail.vue?vue&type=style&index=0&id=44061031&lang=less\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SimpleHeader.vue?vue&type=style&index=0&id=0e914db3&lang=less&scoped=true\""],"sourceRoot":""}