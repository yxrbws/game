(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["product-list"],{"4ddc":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),c=Object(r["R"])("data-v-4ebb5179");Object(r["B"])("data-v-4ebb5179");var a={class:"product-list-wrap"},o={class:"product-list-content"},i={class:"category-header wrap"},s={class:"header-search"},d={class:"content"},u={class:"product-info"},l={class:"name"},f={class:"subtitle"},b={class:"price"},p={key:1,class:"empty",src:"https://s.yezgea02.com/1604041313083/kesrtd.png",alt:"搜索"};Object(r["z"])();var g=c((function(e,t,n,g,h,O){var j=Object(r["G"])("van-icon"),y=Object(r["G"])("van-tab"),v=Object(r["G"])("van-tabs"),k=Object(r["G"])("van-list"),m=Object(r["G"])("van-pull-refresh");return Object(r["y"])(),Object(r["f"])("div",a,[Object(r["i"])("div",o,[Object(r["i"])("header",i,[Object(r["i"])(j,{name:"arrow-left",onClick:g.goBack},null,8,["onClick"]),Object(r["i"])("div",s,[Object(r["i"])(j,{name:"search"}),Object(r["Q"])(Object(r["i"])("input",{type:"text",class:"search-title","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.keyword=t})},null,512),[[r["M"],e.keyword]])]),Object(r["i"])("span",{class:"search-btn",onClick:t[2]||(t[2]=function(){return g.getSearch&&g.getSearch.apply(g,arguments)})},"搜索")]),Object(r["i"])(v,{type:"card",color:"#1baeae",onClick:g.changeTab},{default:c((function(){return[Object(r["i"])(y,{title:"推荐",name:""}),Object(r["i"])(y,{title:"新品",name:"new"}),Object(r["i"])(y,{title:"价格",name:"price"})]})),_:1},8,["onClick"])]),Object(r["i"])("div",d,[Object(r["i"])(m,{modelValue:e.refreshing,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.refreshing=t}),onRefresh:g.onRefresh,class:"product-list-refresh"},{default:c((function(){return[Object(r["i"])(k,{loading:e.loading,"onUpdate:loading":t[3]||(t[3]=function(t){return e.loading=t}),finished:e.finished,"finished-text":e.productList.length?"没有更多了":"搜索想要的商品",onLoad:g.onLoad,onOffset:function(e){return 10}},{default:c((function(){return[e.productList.length?(Object(r["y"])(!0),Object(r["f"])(r["a"],{key:0},Object(r["E"])(e.productList,(function(t,n){return Object(r["y"])(),Object(r["f"])("div",{class:"product-item",key:n,onClick:function(e){return g.productDetail(t)}},[Object(r["i"])("img",{src:e.$filters.prefix(t.goodsCoverImg)},null,8,["src"]),Object(r["i"])("div",u,[Object(r["i"])("p",l,Object(r["J"])(t.goodsName),1),Object(r["i"])("p",f,Object(r["J"])(t.goodsIntro),1),Object(r["i"])("span",b,"￥ "+Object(r["J"])(t.sellingPrice),1)])],8,["onClick"])})),128)):(Object(r["y"])(),Object(r["f"])("img",p))]})),_:1},8,["loading","finished","finished-text","onLoad"])]})),_:1},8,["modelValue","onRefresh"])])])})),h=n("5530"),O=n("1da1"),j=(n("96cf"),n("99af"),n("6c02")),y=n("da71"),v={setup:function(){var e=Object(j["c"])(),t=Object(j["d"])(),n=Object(r["C"])({keyword:e.query.keyword||"",searchBtn:!1,seclectActive:!1,refreshing:!1,list:[],loading:!1,finished:!1,productList:[],totalPage:0,page:1,orderBy:""}),c=function(){var t=Object(O["a"])(regeneratorRuntime.mark((function t(){var r,c,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.query.categoryId,r||n.keyword){t.next=5;break}return n.finished=!0,n.loading=!1,t.abrupt("return");case 5:return t.next=7,Object(y["k"])({pageNumber:n.page,goodsCategoryId:r,keyword:n.keyword,orderBy:n.orderBy});case 7:c=t.sent,a=c.data,o=c.data.list,n.productList=n.productList.concat(o),n.totalPage=a.totalPage,n.loading=!1,n.page>=a.totalPage&&(n.finished=!0);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(){t.go(-1)},o=function(e){t.push({path:"/product/".concat(e.goodsId)})},i=function(){d()},s=function(){!n.refreshing&&n.page<n.totalPage&&(n.page=n.page+1),n.refreshing&&(n.productList=[],n.refreshing=!1),c()},d=function(){n.refreshing=!0,n.finished=!1,n.loading=!0,n.page=1,s()},u=function(e){console.log("name",e),n.orderBy=e,d()};return Object(h["a"])(Object(h["a"])({},Object(r["K"])(n)),{},{goBack:a,productDetail:o,getSearch:i,changeTab:u,onLoad:s,onRefresh:d})}};n("a04e");v.render=g,v.__scopeId="data-v-4ebb5179";t["default"]=v},"99af":function(e,t,n){"use strict";var r=n("23e7"),c=n("d039"),a=n("e8b5"),o=n("861d"),i=n("7b0b"),s=n("50c4"),d=n("8418"),u=n("65f0"),l=n("1dde"),f=n("b622"),b=n("2d00"),p=f("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",O=b>=51||!c((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),j=l("concat"),y=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)},v=!O||!j;r({target:"Array",proto:!0,forced:v},{concat:function(e){var t,n,r,c,a,o=i(this),l=u(o,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?o:arguments[t],y(a)){if(c=s(a.length),f+c>g)throw TypeError(h);for(n=0;n<c;n++,f++)n in a&&d(l,f,a[n])}else{if(f>=g)throw TypeError(h);d(l,f++,a)}return l.length=f,l}})},"9daa":function(e,t,n){},a04e:function(e,t,n){"use strict";n("9daa")}}]);
//# sourceMappingURL=product-list.195843c4.js.map